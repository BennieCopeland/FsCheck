<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>性質
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="FsCheck is a tool for testing .NET programs automatically using randomly generated test cases."/>
    <meta name="author" content="Kurt Schelfthout and contributors"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FsCheck/content/style.css" />
    <script type="text/javascript" src="/FsCheck/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/fscheck/FsCheck/fork">Fork me on GitHub</a></li>
        </ul>
        <h3 class="muted"><a href="/FsCheck/index.html">FsCheck</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="性質" class="anchor" href="#性質">性質</a></h1>
<p>性質は F# の関数定義として表現されます。性質はそのパラメータにわたって例外なく定量化されるので、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="fn">revRevIsOrig</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">xs</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">rev</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">rev</span> <span onmouseout="hideTip(event, 'fs3', 8)" onmouseover="showTip(event, 'fs3', 8)" class="id">xs</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="id">xs</span>
</code></pre></td>
</tr>
</table>
<p>は等式が全てのリスト xs で成り立つことを意味します。</p>
<p>性質は決して単相型を持ってはいけません。
上記のような「多相的な」性質は、まるでジェネリックな引数が型オブジェクトであるかのようにテストされます。これは、
様々な単純型(bool, char, string, ...)が生成されることを意味します。
それは1つの生成されるリストに複数の型が含まれる場合さえあるかもしれないということで、例えば <code>{['r', "la", true]}</code>
は上記の性質をチェックするために使うことができるリストになりえます。
ですが生成された値は型をベースにしているので、推論により、あるいは明示的に、xs に異なる型を与えることで、
この振る舞いを簡単に変更することもできます。つまり、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="fn">revRevIsOrigInt</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs7', 11)" onmouseover="showTip(event, 'fs7', 11)" class="id">xs</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="rt">list</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="vt">int</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 14)" onmouseover="showTip(event, 'fs4', 14)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 15)" onmouseover="showTip(event, 'fs5', 15)" class="id">rev</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 17)" onmouseover="showTip(event, 'fs5', 17)" class="id">rev</span> <span onmouseout="hideTip(event, 'fs7', 18)" onmouseover="showTip(event, 'fs7', 18)" class="id">xs</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 19)" onmouseover="showTip(event, 'fs7', 19)" class="id">xs</span>
</code></pre></td>
</tr>
</table>
<p>は int のリストについてのみチェックされます。</p>
<p>FsCheck は様々な形式の性質をチェックすることができますーこれらの形式はテスト可能であると呼ばれ、
<code>'Testable</code> というジェネリック型によって API において示されます。 <code>'Testable</code> は
bool または unit を返す任意個のパラメータを取る関数となるでしょう。後者の場合、
もし(例外を)送出しなければテストはパスします。</p>
<h2><a name="条件付き性質" class="anchor" href="#条件付き性質">条件付き性質</a></h2>
<p>性質は <code>&lt;condition&gt; ==&gt; &lt;property&gt;</code> という形式を取ることがあります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 47)" onmouseover="showTip(event, 'fs18', 47)" class="fn">insertKeepsOrder</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 48)" onmouseover="showTip(event, 'fs19', 48)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 49)" onmouseover="showTip(event, 'fs9', 49)" class="vt">int</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 50)" onmouseover="showTip(event, 'fs7', 50)" class="id">xs</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 51)" onmouseover="showTip(event, 'fs10', 51)" class="fn">ordered</span> <span onmouseout="hideTip(event, 'fs7', 52)" onmouseover="showTip(event, 'fs7', 52)" class="id">xs</span> <span class="o">==&gt;</span> <span onmouseout="hideTip(event, 'fs10', 53)" onmouseover="showTip(event, 'fs10', 53)" class="fn">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 54)" onmouseover="showTip(event, 'fs15', 54)" class="fn">insert</span> <span onmouseout="hideTip(event, 'fs19', 55)" onmouseover="showTip(event, 'fs19', 55)" class="id">x</span> <span onmouseout="hideTip(event, 'fs7', 56)" onmouseover="showTip(event, 'fs7', 56)" class="id">xs</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs18', 57)" onmouseover="showTip(event, 'fs18', 57)" class="id">insertKeepsOrder</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Arguments exhausted after 14 tests.</code></pre></td></tr></table>
<p>条件が成り立つときはいつでも <code>==&gt;</code> の後の性質が成り立つのなら、このような性質は成り立ちます。</p>
<p>テストは条件を満たさないテストケースを切り捨てます。条件を満たすテストケースが100件見つかるまで、
あるいはテストケース数の限度に達する(条件が決して成り立たないループを避けるため)まで、テストケースの生成は続けられます。
この場合、 "Arguments exhausted after 97 tests." というようなメッセージは、条件を満たすテストケースが97件見つかり、
その97件に対して性質が成り立った、ということを示します。</p>
<p>この場合、生成された性質は int 型に制限されなければならなかったことに注意してください。なぜなら生成された値は
比較可能である必要がありましたが、これは型に反映されていません。ですから、明示的な制限がなければ、
FsCheck は異なる型(object の派生型)を含むリストを生成したかもしれず、そしてこれらは互いに比較可能ではありません。</p>
<h2><a name="遅延性質" class="anchor" href="#遅延性質">遅延性質</a></h2>
<p>F# はデフォルトでは正則評価ですが、上記の性質は必要以上に働いてしまいます。つまり、
左側の条件の結果がどうであれ、条件の右側にある性質を評価します。
上の例におけるパフォーマンス面の考察だけではありますが、性質の表現力を制限する可能性がありますー考えてみましょう:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 58)" onmouseover="showTip(event, 'fs20', 58)" class="fn">tooEager</span> <span onmouseout="hideTip(event, 'fs21', 59)" onmouseover="showTip(event, 'fs21', 59)" class="id">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 60)" onmouseover="showTip(event, 'fs21', 60)" class="id">a</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="pn">(</span><span class="n">1</span><span class="o">/</span><span onmouseout="hideTip(event, 'fs21', 61)" onmouseover="showTip(event, 'fs21', 61)" class="id">a</span> <span class="o">=</span> <span class="n">1</span><span class="o">/</span><span onmouseout="hideTip(event, 'fs21', 62)" onmouseover="showTip(event, 'fs21', 62)" class="id">a</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs20', 63)" onmouseover="showTip(event, 'fs20', 63)" class="id">tooEager</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Falsifiable, after 13 tests (0 shrinks) (StdGen (114181627,296713330)):
Original:
0
with exception:
System.DivideByZeroException: Attempted to divide by zero.
   at FSI_0380.tooEager(Int32 a) in C:\Users\Kurt\Projects\FsCheck\FsCheck\input.fsx:line 1
   at FsCheck.Testable.evaluate[a,b](FSharpFunc`2 body, a a)</code></pre></td></tr></table>
<p>ここで、性質が正しくチェックされているかどうかを確かめるために、遅延評価が必要になります:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">moreLazy</span> <span onmouseout="hideTip(event, 'fs21', 64)" onmouseover="showTip(event, 'fs21', 64)" class="id">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 65)" onmouseover="showTip(event, 'fs21', 65)" class="id">a</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="pn">(</span><span class="k">lazy</span> <span class="pn">(</span><span class="n">1</span><span class="o">/</span><span onmouseout="hideTip(event, 'fs21', 66)" onmouseover="showTip(event, 'fs21', 66)" class="id">a</span> <span class="o">=</span> <span class="n">1</span><span class="o">/</span><span onmouseout="hideTip(event, 'fs21', 67)" onmouseover="showTip(event, 'fs21', 67)" class="id">a</span><span class="pn">)</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span class="id">moreLazy</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Ok, passed 100 tests.</code></pre></td></tr></table>
<h2><a name="定量化された性質" class="anchor" href="#定量化された性質">定量化された性質</a></h2>
<p>性質は <code>forAll &lt;arbitrary&gt; (fun &lt;args&gt; -&gt; &lt;property&gt;)</code> という形式を取る場合があります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 68)" onmouseover="showTip(event, 'fs22', 68)" class="id">orderedList</span> <span class="o">=</span> <span class="id">Arb</span><span class="pn">.</span><span class="id">from</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs8', 69)" onmouseover="showTip(event, 'fs8', 69)" class="id">list</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs9', 70)" onmouseover="showTip(event, 'fs9', 70)" class="id">int</span><span class="pn">&gt;</span><span class="pn">&gt;</span> <span class="o">|&gt;</span> <span class="id">Arb</span><span class="pn">.</span><span class="id">mapFilter</span> <span onmouseout="hideTip(event, 'fs4', 71)" onmouseover="showTip(event, 'fs4', 71)" class="id">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 72)" onmouseover="showTip(event, 'fs23', 72)" class="id">sort</span> <span onmouseout="hideTip(event, 'fs10', 73)" onmouseover="showTip(event, 'fs10', 73)" class="id">ordered</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 74)" onmouseover="showTip(event, 'fs24', 74)" class="fn">insertWithArb</span> <span onmouseout="hideTip(event, 'fs25', 75)" onmouseover="showTip(event, 'fs25', 75)" class="id">x</span> <span class="o">=</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">forAll</span> <span onmouseout="hideTip(event, 'fs22', 76)" onmouseover="showTip(event, 'fs22', 76)" class="id">orderedList</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">xs</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs10', 77)" onmouseover="showTip(event, 'fs10', 77)" class="id">ordered</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 78)" onmouseover="showTip(event, 'fs15', 78)" class="id">insert</span> <span onmouseout="hideTip(event, 'fs25', 79)" onmouseover="showTip(event, 'fs25', 79)" class="id">x</span> <span class="id">xs</span><span class="pn">)</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs24', 80)" onmouseover="showTip(event, 'fs24', 80)" class="id">insertWithArb</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Ok, passed 100 tests.</code></pre></td></tr></table>
<p>forAll の第一引数は IArbitrary インスタンスです。このようなインスタンスは
テストデータのジェネレータとシュリンカ(詳しくは <a href="TestData.html">テストデータ</a>)をカプセル化します。
その型のデフォルトであるジェネレータを使う代わりに、お手製のジェネレータを与えることで、
テストデータの分布をコントロールすることができます。この例では、
整序済みリスト用の自作ジェネレータを与えることで、整序されていないテストケースをフィルタリングする
というよりも、むしろテストケースの総合的な限界に達することなく100のテストケースを生成できることを保証します。
ジェネレータを定義するためのコンビネータを <a href="TestData.html">テストデータ</a> で説明します。</p>
<h2><a name="例外の予測" class="anchor" href="#例外の予測">例外の予測</a></h2>
<p>ある状況下で関数やメソッドが例外をスローするというテストをしたいと思うかもしれません。
これを実現するために <code>throws&lt;'e :&gt; exn, 'a&gt; Lazy&lt;'a&gt;</code> を使いましょう。例えば:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 81)" onmouseover="showTip(event, 'fs26', 81)" class="fn">expectDivideByZero</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">throws</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs27', 82)" onmouseover="showTip(event, 'fs27', 82)" class="id">DivideByZeroException</span><span class="pn">,</span><span class="id">_</span><span class="pn">&gt;</span> <span class="pn">(</span><span class="k">lazy</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 83)" onmouseover="showTip(event, 'fs28', 83)" class="id">raise</span> <span class="o">&lt;|</span> <span onmouseout="hideTip(event, 'fs27', 84)" onmouseover="showTip(event, 'fs27', 84)" class="id">DivideByZeroException</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs26', 85)" onmouseover="showTip(event, 'fs26', 85)" class="id">expectDivideByZero</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Ok, passed 100 tests.</code></pre></td></tr></table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">  
</code></pre></td>
</tr>
</table>
<h2><a name="時間制限のある性質" class="anchor" href="#時間制限のある性質">時間制限のある性質</a></h2>
<p>性質は <code>within &lt;timeout in ms&gt; &lt;Lazy&lt;property&gt;&gt;</code> という形式を取ることがあります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 86)" onmouseover="showTip(event, 'fs29', 86)" class="fn">timesOut</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 87)" onmouseover="showTip(event, 'fs21', 87)" class="id">a</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 88)" onmouseover="showTip(event, 'fs9', 88)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span> 
    <span class="k">lazy</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs21', 89)" onmouseover="showTip(event, 'fs21', 89)" class="id">a</span><span class="o">&gt;</span><span class="n">10</span> <span class="k">then</span>
            <span class="k">do</span> <span onmouseout="hideTip(event, 'fs1', 90)" onmouseover="showTip(event, 'fs1', 90)" class="fn">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 91)" onmouseover="showTip(event, 'fs30', 91)" class="id">Threading</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 92)" onmouseover="showTip(event, 'fs31', 92)" class="rt">Thread</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 93)" onmouseover="showTip(event, 'fs32', 93)" class="id">Sleep</span><span class="pn">(</span><span class="n">3000</span><span class="pn">)</span>
            <span class="k">true</span>
        <span class="k">else</span> 
            <span class="k">true</span>
    <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">within</span> <span class="n">1000</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs29', 94)" onmouseover="showTip(event, 'fs29', 94)" class="id">timesOut</span>
</code></pre></td>
</tr>
</table>
<p>第一引数は与えられた遅延性質が実行して良い最大の時間です。もしそれよりも長く実行していると、
FsCheck はそのテストが失敗したと見做します。そうでなければ、遅延性質の結果は within の結果です。
within が、性質が実行されているスレッドをキャンセルしようとしても、
それはきっと上手くいかないでしょうし、そのスレッドはプロセスが終了するまで実際に実行し続けるであろうということに注意してください。</p>
<h2><a name="テストケース分布の観測" class="anchor" href="#テストケース分布の観測">テストケース分布の観測</a></h2>
<p>テストケースの分布を意識しておくのは重要な事です。つまり、もしテストデータがよく分布していなかったら、
テスト結果から導き出される結論は正しくないかもしれません。特に、与えられた性質を満足するデータだけが使われるので、
<code>==&gt;</code> 演算子はテストデータの分布を不適切に歪めます。</p>
<p>FsCheck はテストデータの分布を観測する手段を幾つか提供します。観測するためのコードは性質の宣言に含まれ、
性質が実際にテストされる度に測定され、収集した観測結果はテストが完了した時に集約されます。</p>
<h2><a name="自明なケースの計数" class="anchor" href="#自明なケースの計数">自明なケースの計数</a></h2>
<p>性質は <code>trivial &lt;condition&gt; &lt;property&gt;</code> という形式を取ることがあります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 95)" onmouseover="showTip(event, 'fs33', 95)" class="fn">insertTrivial</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 96)" onmouseover="showTip(event, 'fs19', 96)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 97)" onmouseover="showTip(event, 'fs9', 97)" class="vt">int</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 98)" onmouseover="showTip(event, 'fs7', 98)" class="id">xs</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs10', 99)" onmouseover="showTip(event, 'fs10', 99)" class="fn">ordered</span> <span onmouseout="hideTip(event, 'fs7', 100)" onmouseover="showTip(event, 'fs7', 100)" class="id">xs</span> <span class="o">==&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 101)" onmouseover="showTip(event, 'fs10', 101)" class="fn">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 102)" onmouseover="showTip(event, 'fs15', 102)" class="fn">insert</span> <span onmouseout="hideTip(event, 'fs19', 103)" onmouseover="showTip(event, 'fs19', 103)" class="id">x</span> <span onmouseout="hideTip(event, 'fs7', 104)" onmouseover="showTip(event, 'fs7', 104)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span>
  <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">trivial</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 105)" onmouseover="showTip(event, 'fs4', 105)" class="id">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 106)" onmouseover="showTip(event, 'fs34', 106)" class="id">length</span> <span onmouseout="hideTip(event, 'fs7', 107)" onmouseover="showTip(event, 'fs7', 107)" class="id">xs</span> <span class="o">=</span> <span class="n">0</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs33', 108)" onmouseover="showTip(event, 'fs33', 108)" class="id">insertTrivial</span>
</code></pre></td>
</tr>
</table>
<p>この条件が真になるテストケースは自明であると分類され、全体における自明なテストケースの比率が報告されます:</p>
<table class="pre"><tr><td><pre><code>Arguments exhausted after 19 tests (26% trivial).</code></pre></td></tr></table>
<h3><a name="テストケースの分類" class="anchor" href="#テストケースの分類">テストケースの分類</a></h3>
<p>性質は <code>classify &lt;condition&gt; &lt;string&gt; &lt;property&gt;</code> という形式を取ることがあります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 109)" onmouseover="showTip(event, 'fs35', 109)" class="fn">insertClassify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 110)" onmouseover="showTip(event, 'fs19', 110)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 111)" onmouseover="showTip(event, 'fs9', 111)" class="vt">int</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 112)" onmouseover="showTip(event, 'fs7', 112)" class="id">xs</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs10', 113)" onmouseover="showTip(event, 'fs10', 113)" class="fn">ordered</span> <span onmouseout="hideTip(event, 'fs7', 114)" onmouseover="showTip(event, 'fs7', 114)" class="id">xs</span> <span class="o">==&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 115)" onmouseover="showTip(event, 'fs10', 115)" class="fn">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 116)" onmouseover="showTip(event, 'fs15', 116)" class="fn">insert</span> <span onmouseout="hideTip(event, 'fs19', 117)" onmouseover="showTip(event, 'fs19', 117)" class="id">x</span> <span onmouseout="hideTip(event, 'fs7', 118)" onmouseover="showTip(event, 'fs7', 118)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span>
  <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">classify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 119)" onmouseover="showTip(event, 'fs10', 119)" class="id">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 120)" onmouseover="showTip(event, 'fs19', 120)" class="id">x</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs7', 121)" onmouseover="showTip(event, 'fs7', 121)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span> <span class="s">&quot;at-head&quot;</span>
  <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">classify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 122)" onmouseover="showTip(event, 'fs10', 122)" class="id">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs7', 123)" onmouseover="showTip(event, 'fs7', 123)" class="id">xs</span> <span class="id">@</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs19', 124)" onmouseover="showTip(event, 'fs19', 124)" class="id">x</span><span class="pn">]</span><span class="pn">)</span><span class="pn">)</span> <span class="s">&quot;at-tail&quot;</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs35', 125)" onmouseover="showTip(event, 'fs35', 125)" class="id">insertClassify</span>
</code></pre></td>
</tr>
</table>
<p>条件を満足するテストケースは与えられた分類に割り当てられ、分類の分布はテスト後に報告されます:</p>
<table class="pre"><tr><td><pre><code>Arguments exhausted after 20 tests.
60% at-tail.
20% at-tail, at-head.
20% at-head.</code></pre></td></tr></table>
<p>1つのテストケースは複数の分類に当てはまる場合があることに注意してください。</p>
<h3><a name="データの値の収集" class="anchor" href="#データの値の収集">データの値の収集</a></h3>
<p>性質は <code>collect &lt;expression&gt; &lt;property&gt;</code> という形式を取ることがあります。</p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 126)" onmouseover="showTip(event, 'fs36', 126)" class="fn">insertCollect</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 127)" onmouseover="showTip(event, 'fs19', 127)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 128)" onmouseover="showTip(event, 'fs9', 128)" class="vt">int</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 129)" onmouseover="showTip(event, 'fs7', 129)" class="id">xs</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs10', 130)" onmouseover="showTip(event, 'fs10', 130)" class="fn">ordered</span> <span onmouseout="hideTip(event, 'fs7', 131)" onmouseover="showTip(event, 'fs7', 131)" class="id">xs</span> <span class="o">==&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 132)" onmouseover="showTip(event, 'fs10', 132)" class="fn">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 133)" onmouseover="showTip(event, 'fs15', 133)" class="fn">insert</span> <span onmouseout="hideTip(event, 'fs19', 134)" onmouseover="showTip(event, 'fs19', 134)" class="id">x</span> <span onmouseout="hideTip(event, 'fs7', 135)" onmouseover="showTip(event, 'fs7', 135)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span>
      <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">collect</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 136)" onmouseover="showTip(event, 'fs4', 136)" class="id">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 137)" onmouseover="showTip(event, 'fs34', 137)" class="id">length</span> <span onmouseout="hideTip(event, 'fs7', 138)" onmouseover="showTip(event, 'fs7', 138)" class="id">xs</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs36', 139)" onmouseover="showTip(event, 'fs36', 139)" class="id">insertCollect</span>
</code></pre></td>
</tr>
</table>
<p>collect の引数はテストケースごとに評価され、値の分布が報告されます。
この引数の型は <code>sprintf "%A"</code> を用いて出力されます:</p>
<table class="pre"><tr><td><pre><code>Arguments exhausted after 17 tests.
47% 0.
35% 1.
17% 2.</code></pre></td></tr></table>
<h3><a name="観測の連結" class="anchor" href="#観測の連結">観測の連結</a></h3>
<p>ここで説明した観測は何らかの方法で連結されるかもしれません。テストケースそれぞれにおける
全ての観測は連結されており、これらの連結の分布は報告されます。例えば</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 140)" onmouseover="showTip(event, 'fs37', 140)" class="fn">insertCombined</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 141)" onmouseover="showTip(event, 'fs19', 141)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs9', 142)" onmouseover="showTip(event, 'fs9', 142)" class="vt">int</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs7', 143)" onmouseover="showTip(event, 'fs7', 143)" class="id">xs</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs10', 144)" onmouseover="showTip(event, 'fs10', 144)" class="fn">ordered</span> <span onmouseout="hideTip(event, 'fs7', 145)" onmouseover="showTip(event, 'fs7', 145)" class="id">xs</span> <span class="o">==&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 146)" onmouseover="showTip(event, 'fs10', 146)" class="fn">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs15', 147)" onmouseover="showTip(event, 'fs15', 147)" class="fn">insert</span> <span onmouseout="hideTip(event, 'fs19', 148)" onmouseover="showTip(event, 'fs19', 148)" class="id">x</span> <span onmouseout="hideTip(event, 'fs7', 149)" onmouseover="showTip(event, 'fs7', 149)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">classify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 150)" onmouseover="showTip(event, 'fs10', 150)" class="id">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 151)" onmouseover="showTip(event, 'fs19', 151)" class="id">x</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs7', 152)" onmouseover="showTip(event, 'fs7', 152)" class="id">xs</span><span class="pn">)</span><span class="pn">)</span> <span class="s">&quot;at-head&quot;</span>
    <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">classify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs10', 153)" onmouseover="showTip(event, 'fs10', 153)" class="id">ordered</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs7', 154)" onmouseover="showTip(event, 'fs7', 154)" class="id">xs</span> <span class="id">@</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs19', 155)" onmouseover="showTip(event, 'fs19', 155)" class="id">x</span><span class="pn">]</span><span class="pn">)</span><span class="pn">)</span> <span class="s">&quot;at-tail&quot;</span>
    <span class="o">|&gt;</span> <span class="id">Prop</span><span class="pn">.</span><span class="id">collect</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 156)" onmouseover="showTip(event, 'fs4', 156)" class="id">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 157)" onmouseover="showTip(event, 'fs34', 157)" class="id">length</span> <span onmouseout="hideTip(event, 'fs7', 158)" onmouseover="showTip(event, 'fs7', 158)" class="id">xs</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs37', 159)" onmouseover="showTip(event, 'fs37', 159)" class="id">insertCombined</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Arguments exhausted after 16 tests.
31% 2, at-tail.
25% 0, at-tail, at-head.
12% 1, at-tail.
6% 7, at-head.
6% 4, at-tail.
6% 2.
6% 1, at-tail, at-head.
6% 1, at-head.</code></pre></td></tr></table>
<h2><a name="And-Or-およびラベル" class="anchor" href="#And-Or-およびラベル">And, Or およびラベル</a></h2>
<p>性質は</p>
<ul>
<li><code>&lt;property&gt; .&amp;. &lt;property&gt;</code> は両方成功した場合に成功し、性質のどちらか一方が失敗した場合に失敗し、両方とも棄却された場合に棄却されます。</li>
<li><code>&lt;property&gt; .|. &lt;property&gt;</code> は性質のどちらかが成功した場合に成功し、両方の性質が失敗した場合に失敗し、両方とも棄却された場合に棄却されます。</li>
</ul>
<p><code>.&amp;.</code> コンビネータは、ジェネレータを共有する複雑な性質を記述するために最も一般的に使われます。
この場合、失敗時にどのサブプロパティ(従属性質)が原因で失敗したか正確に知るのが難しいことがあるかもしれません。
そのために従属性質にラベルを付けることができて、FsCheck が反例を見つけると、失敗した従属性質のラベルを表示します。
これはこのような形式になります: <code>&lt;string&gt; @| &lt;property&gt;</code> または <code>&lt;property&gt; |@ &lt;string&gt;</code></p>
<p>例えば、</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 160)" onmouseover="showTip(event, 'fs38', 160)" class="fn">complex</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 161)" onmouseover="showTip(event, 'fs39', 161)" class="id">m</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 162)" onmouseover="showTip(event, 'fs9', 162)" class="vt">int</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 163)" onmouseover="showTip(event, 'fs40', 163)" class="id">n</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 164)" onmouseover="showTip(event, 'fs9', 164)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 165)" onmouseover="showTip(event, 'fs41', 165)" class="id">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 166)" onmouseover="showTip(event, 'fs40', 166)" class="id">n</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs39', 167)" onmouseover="showTip(event, 'fs39', 167)" class="id">m</span>
  <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 168)" onmouseover="showTip(event, 'fs41', 168)" class="id">res</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 169)" onmouseover="showTip(event, 'fs39', 169)" class="id">m</span><span class="pn">)</span>    <span class="o">|@</span> <span class="s">&quot;result &gt; #1&quot;</span> <span class="pn">.</span><span class="o">&amp;.</span>
  <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 170)" onmouseover="showTip(event, 'fs41', 170)" class="id">res</span> <span class="o">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 171)" onmouseover="showTip(event, 'fs40', 171)" class="id">n</span><span class="pn">)</span>    <span class="o">|@</span> <span class="s">&quot;result &gt; #2&quot;</span> <span class="pn">.</span><span class="o">&amp;.</span>
  <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 172)" onmouseover="showTip(event, 'fs41', 172)" class="id">res</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs39', 173)" onmouseover="showTip(event, 'fs39', 173)" class="id">m</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs40', 174)" onmouseover="showTip(event, 'fs40', 174)" class="id">n</span><span class="pn">)</span> <span class="o">|@</span> <span class="s">&quot;result not sum&quot;</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span onmouseout="hideTip(event, 'fs38', 175)" onmouseover="showTip(event, 'fs38', 175)" class="id">complex</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Falsifiable, after 1 test (2 shrinks) (StdGen (136995112,296713330)):
Label of failing property: result not sum
Original:
1
2
Shrunk:
0
0</code></pre></td></tr></table>
<p>1つの性質に複数のラベルを適用することは一向に構いません。FsCheck は適用可能な全てのラベルを表示します。
これは途中の結果を表示するのに便利で、例えば:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">multiply</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 176)" onmouseover="showTip(event, 'fs40', 176)" class="id">n</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 177)" onmouseover="showTip(event, 'fs9', 177)" class="vt">int</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs39', 178)" onmouseover="showTip(event, 'fs39', 178)" class="id">m</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 179)" onmouseover="showTip(event, 'fs9', 179)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 180)" onmouseover="showTip(event, 'fs41', 180)" class="id">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 181)" onmouseover="showTip(event, 'fs40', 181)" class="id">n</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs39', 182)" onmouseover="showTip(event, 'fs39', 182)" class="id">m</span>
    <span onmouseout="hideTip(event, 'fs42', 183)" onmouseover="showTip(event, 'fs42', 183)" class="fn">sprintf</span> <span class="s">&quot;evidence = </span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs41', 184)" onmouseover="showTip(event, 'fs41', 184)" class="id">res</span> <span class="id">@|</span> <span class="pn">(</span>
      <span class="s">&quot;div1&quot;</span> <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 185)" onmouseover="showTip(event, 'fs39', 185)" class="id">m</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="k">lazy</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 186)" onmouseover="showTip(event, 'fs41', 186)" class="id">res</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs39', 187)" onmouseover="showTip(event, 'fs39', 187)" class="id">m</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 188)" onmouseover="showTip(event, 'fs40', 188)" class="id">n</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
      <span class="s">&quot;div2&quot;</span> <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 189)" onmouseover="showTip(event, 'fs40', 189)" class="id">n</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="k">lazy</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 190)" onmouseover="showTip(event, 'fs41', 190)" class="id">res</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs40', 191)" onmouseover="showTip(event, 'fs40', 191)" class="id">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 192)" onmouseover="showTip(event, 'fs39', 192)" class="id">m</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
      <span class="s">&quot;lt1&quot;</span>  <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 193)" onmouseover="showTip(event, 'fs41', 193)" class="id">res</span> <span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs39', 194)" onmouseover="showTip(event, 'fs39', 194)" class="id">m</span><span class="pn">)</span><span class="pn">,</span>
      <span class="s">&quot;lt2&quot;</span>  <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 195)" onmouseover="showTip(event, 'fs41', 195)" class="id">res</span> <span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs40', 196)" onmouseover="showTip(event, 'fs40', 196)" class="id">n</span><span class="pn">)</span><span class="pn">)</span>
<span class="id">Check</span><span class="pn">.</span><span class="id">Quick</span> <span class="id">multiply</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Falsifiable, after 1 test (1 shrink) (StdGen (137932547,296713330)):
Labels of failing property (one or more is failing):
evidence = 0
lt1
Original:
(0, 1)
Shrunk:
(0, 0)</code></pre></td></tr></table>
<p>上記の性質は従属性質をタプルにすることで連結していることに注意しましょう。これは長さ6のタプルまで上手くいきます:</p>
<ul>
<li><code>(&lt;property1&gt;, &lt;property2&gt;, ..., &lt;property6&gt;)</code> は <code>&lt;property1&gt; .&amp;. &lt;property2&gt; .&amp;. ... .&amp;. &lt;property6&gt;</code> を意味します</li>
<li><code>[property1; property2, ..., propertyN]</code> は <code>&lt;property1&gt; .&amp;. &lt;property2&gt; .&amp;. ... .&amp;. &lt;propertyN&gt;</code> を意味します</li>
</ul>
<p>リストとして記述した例:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">multiplyAsList</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 197)" onmouseover="showTip(event, 'fs40', 197)" class="id">n</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 198)" onmouseover="showTip(event, 'fs9', 198)" class="vt">int</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs39', 199)" onmouseover="showTip(event, 'fs39', 199)" class="id">m</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs9', 200)" onmouseover="showTip(event, 'fs9', 200)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 201)" onmouseover="showTip(event, 'fs41', 201)" class="id">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 202)" onmouseover="showTip(event, 'fs40', 202)" class="id">n</span><span class="o">*</span><span onmouseout="hideTip(event, 'fs39', 203)" onmouseover="showTip(event, 'fs39', 203)" class="id">m</span>
    <span onmouseout="hideTip(event, 'fs42', 204)" onmouseover="showTip(event, 'fs42', 204)" class="fn">sprintf</span> <span class="s">&quot;evidence = </span><span class="pf">%i</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs41', 205)" onmouseover="showTip(event, 'fs41', 205)" class="id">res</span> <span class="id">@|</span> <span class="pn">[</span>
      <span class="s">&quot;div1&quot;</span> <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 206)" onmouseover="showTip(event, 'fs39', 206)" class="id">m</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="k">lazy</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 207)" onmouseover="showTip(event, 'fs41', 207)" class="id">res</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs39', 208)" onmouseover="showTip(event, 'fs39', 208)" class="id">m</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 209)" onmouseover="showTip(event, 'fs40', 209)" class="id">n</span><span class="pn">)</span><span class="pn">)</span><span class="pn">;</span>
      <span class="s">&quot;div2&quot;</span> <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 210)" onmouseover="showTip(event, 'fs40', 210)" class="id">n</span> <span class="o">&lt;&gt;</span> <span class="n">0</span> <span class="o">==&gt;</span> <span class="k">lazy</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 211)" onmouseover="showTip(event, 'fs41', 211)" class="id">res</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs40', 212)" onmouseover="showTip(event, 'fs40', 212)" class="id">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 213)" onmouseover="showTip(event, 'fs39', 213)" class="id">m</span><span class="pn">)</span><span class="pn">)</span><span class="pn">;</span>
      <span class="s">&quot;lt1&quot;</span>  <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 214)" onmouseover="showTip(event, 'fs41', 214)" class="id">res</span> <span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs39', 215)" onmouseover="showTip(event, 'fs39', 215)" class="id">m</span><span class="pn">)</span><span class="pn">;</span>
      <span class="s">&quot;lt2&quot;</span>  <span class="id">@|</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 216)" onmouseover="showTip(event, 'fs41', 216)" class="id">res</span> <span class="pn">&gt;</span> <span onmouseout="hideTip(event, 'fs40', 217)" onmouseover="showTip(event, 'fs40', 217)" class="id">n</span><span class="pn">)</span><span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<p>は同じ結果となります。</p>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">val revRevIsOrig : xs:&#39;a list -&gt; bool (requires equality)</div>
<div class="tip" id="fs3">val xs : &#39;a list (requires equality)</div>
<div class="tip" id="fs4">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="tip" id="fs5">val rev : list:&#39;T list -&gt; &#39;T list</div>
<div class="tip" id="fs6">val revRevIsOrigInt : xs:int list -&gt; bool</div>
<div class="tip" id="fs7">val xs : int list</div>
<div class="tip" id="fs8">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="tip" id="fs9">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs10">val ordered : xs:&#39;a list -&gt; bool (requires comparison)</div>
<div class="tip" id="fs11">val xs : &#39;a list (requires comparison)</div>
<div class="tip" id="fs12">val x : &#39;a (requires comparison)</div>
<div class="tip" id="fs13">val y : &#39;a (requires comparison)</div>
<div class="tip" id="fs14">val ys : &#39;a list (requires comparison)</div>
<div class="tip" id="fs15">val insert : x:&#39;a -&gt; xs:&#39;a list -&gt; &#39;a list (requires comparison)</div>
<div class="tip" id="fs16">val c : &#39;a (requires comparison)</div>
<div class="tip" id="fs17">val cs : &#39;a list (requires comparison)</div>
<div class="tip" id="fs18">val insertKeepsOrder : x:int -&gt; xs:int list -&gt; obj</div>
<div class="tip" id="fs19">val x : int</div>
<div class="tip" id="fs20">val tooEager : a:int -&gt; obj</div>
<div class="tip" id="fs21">val a : int</div>
<div class="tip" id="fs22">val orderedList : obj</div>
<div class="tip" id="fs23">val sort : list:&#39;T list -&gt; &#39;T list (requires comparison)</div>
<div class="tip" id="fs24">val insertWithArb : x:&#39;a -&gt; &#39;b</div>
<div class="tip" id="fs25">val x : &#39;a</div>
<div class="tip" id="fs26">val expectDivideByZero : unit -&gt; &#39;a</div>
<div class="tip" id="fs27">Multiple items<br />type DivideByZeroException =<br />&#160;&#160;inherit ArithmeticException<br />&#160;&#160;new : unit -&gt; DivideByZeroException + 2 overloads<br /><br />--------------------<br />DivideByZeroException() : DivideByZeroException<br />DivideByZeroException(message: string) : DivideByZeroException<br />DivideByZeroException(message: string, innerException: exn) : DivideByZeroException</div>
<div class="tip" id="fs28">val raise : exn:Exception -&gt; &#39;T</div>
<div class="tip" id="fs29">val timesOut : a:int -&gt; &#39;a</div>
<div class="tip" id="fs30">namespace System.Threading</div>
<div class="tip" id="fs31">Multiple items<br />type Thread =<br />&#160;&#160;inherit CriticalFinalizerObject<br />&#160;&#160;new : start:ThreadStart -&gt; Thread + 3 overloads<br />&#160;&#160;member Abort : unit -&gt; unit + 1 overload<br />&#160;&#160;member ApartmentState : ApartmentState with get, set<br />&#160;&#160;member CurrentCulture : CultureInfo with get, set<br />&#160;&#160;member CurrentUICulture : CultureInfo with get, set<br />&#160;&#160;member DisableComObjectEagerCleanup : unit -&gt; unit<br />&#160;&#160;member ExecutionContext : ExecutionContext<br />&#160;&#160;member GetApartmentState : unit -&gt; ApartmentState<br />&#160;&#160;member GetCompressedStack : unit -&gt; CompressedStack<br />&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;...<br /><br />--------------------<br />Threading.Thread(start: Threading.ThreadStart) : Threading.Thread<br />Threading.Thread(start: Threading.ParameterizedThreadStart) : Threading.Thread<br />Threading.Thread(start: Threading.ThreadStart, maxStackSize: int) : Threading.Thread<br />Threading.Thread(start: Threading.ParameterizedThreadStart, maxStackSize: int) : Threading.Thread</div>
<div class="tip" id="fs32">Threading.Thread.Sleep(timeout: TimeSpan) : unit<br />Threading.Thread.Sleep(millisecondsTimeout: int) : unit</div>
<div class="tip" id="fs33">val insertTrivial : x:int -&gt; xs:int list -&gt; &#39;a</div>
<div class="tip" id="fs34">val length : list:&#39;T list -&gt; int</div>
<div class="tip" id="fs35">val insertClassify : x:int -&gt; xs:int list -&gt; &#39;a</div>
<div class="tip" id="fs36">val insertCollect : x:int -&gt; xs:int list -&gt; &#39;a</div>
<div class="tip" id="fs37">val insertCombined : x:int -&gt; xs:int list -&gt; &#39;a</div>
<div class="tip" id="fs38">val complex : m:int -&gt; n:int -&gt; obj</div>
<div class="tip" id="fs39">val m : int</div>
<div class="tip" id="fs40">val n : int</div>
<div class="tip" id="fs41">val res : int</div>
<div class="tip" id="fs42">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>

        </div>
        <div class="span3">
          <img src="/FsCheck/img/logo.png" alt="FsCheck logo - an inverted A, the mathematical symbol for forall." style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FsCheck</li>
            <li><a href="/FsCheck/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FsCheck">Get Library via NuGet</a></li>
            <li><a href="https://github.com/fscheck/FsCheck">Source Code on GitHub</a></li>
            <li><a href="https://github.com/fscheck/FsCheck/blob/master/License.txt">License</a></li>
            <li><a href="https://github.com/fscheck/FsCheck/blob/master/FsCheck Release Notes.md">Release Notes</a></li>
            <li><a href="/FsCheck/users.html">Who is using FsCheck?</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/FsCheck/QuickStart.html">Quick Start</a></li>
            <li><a href="/FsCheck/LearningResources.html">Learning Resources</a></li>

            <li class="nav-header">Documentation</li>
            <li>
              <a href="/FsCheck/Properties.html">Properties</a>
            </li>
            <li>
              <a href="/FsCheck/TestData.html">Generating test data</a>
            </li>
            <li>
              <a href="/FsCheck/StatefulTesting.html">Model-based testing</a>
            </li>
            <li>
              <a href="/FsCheck/RunningTests.html">Running tests</a>
            </li>
            <li>
              <a href="/FsCheck/TipsAndTricks.html">Tips and Tricks</a>
            </li>
              <li>
                  <a href="/FsCheck/StatefulTestingNew.html">Model-based testing vNext (Experimental)</a>
              </li>

            <li><a href="/FsCheck/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/fscheck/FsCheck">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/>
    </a>
  </body>
  </html>
